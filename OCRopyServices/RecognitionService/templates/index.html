<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="OCRopy recognition micro-service: recognize and extract all line text from line images, generate line text files and a over-all file." />
        <meta name="author" content="Jingchao Luan" />
        <title>OCRopy Recognition Micro-Service</title>
        <style type="text/css">
            p {margin-left: 30px;}
            table {margin-left: 30px;}
            .two_tab {margin-left: 60px;}
            #center {text-align: center;}
        </style>
    </head>
    <body>
        <h2 align="center">OCRopy Recognition Micro-Service</h2>
        
        <h4>GOAL</h4>
        <p>Recognize and extract line text from an singal-line image.</p>
        
        <h4>USAGE</h4>
        <p>1. Call OCRopy recognition micro-service with url: "http://{IP}:{PORT}/recognitionapi".</p>
        <p>2. Input: </p>
        <p class="two_tab"> 
            1) The path of an singal-line image, uploaded in form style. <br>
            2) Optional. Specified parameter valuses which are listed in the following part, and send them in form style.</p>
        <p>3. Output: </p>
        <p class="two_tab"> A zip file contains all output files related to the uploaded image. Usually they are named as {<i>imagename</i>}.txt [, {<i>imagename</i>}.prob, and {<i>imagename</i>}.llocs if related parameters have been set].</p>
        <p>4. Example: </p>
        <p class="two_tab"> 
            1) Using script "call_recog.py", with command "python call_recog.py -h" to check how to use it. <font color="red">Remenber</font> to change the IP and PORT inside the script.<br> 
            2) Using curl command. E.g. curl -F "<font color="red">image</font>=@<i>path_to_image</i>" -F "<font color="red">probabilities</font>=True" -o <i>name_of_output_file</i> http://{IP}:{PORT}/recognitionapi</p>
        
        <h4>PARAMETERS (#5)</h4>
        <table border="1" cellspacing="0" >
            <tr bgcolor="silver">
                <th>Parameter</th>
                <th>Type</th>
                <th>Default value</th>
                <th>Comment</th>
            </tr>
            <tr>
                <td>height</td>
                <td>Integer</td>
                <td align="center">-1</td>
                <td>target line height (overrides recognizer)</td>
            </tr>
            <tr>
                <td>pad</td>
                <td>Integer</td>
                <td align="center">16</td>
                <td>extra blank padding to the left and right of text line</td>
            </tr>
            <tr>
                <td>nonormalize</td>
                <td>Boolean</td>
                <td align="center">False</td>
                <td>normalize the textual output from the recognizer</td>
            </tr>
            <tr>
                <td>llocs</td>
                <td>Boolean</td>
                <td align="center">False</td>
                <td>output LSTM locations for characters</td>
            </tr>
            <tr>
                <td>probabilities</td>
                <td>Boolean</td>
                <td align="center">False</td>
                <td>output probabilities for each letter</td>
            </tr>
        </table>

        <h4><font color="red">NOTE</font></h4>
        <p>
            1) For curl command, the uploaded image must be an binarized singal-line image, and with name/key '<b>image</b>'.<br> 
            2) The specified parameters' name must be same with names listed in the above table.</p>
    </body>
</html>
